<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Turbo Leaving Cert Spanish — Synge Street</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#f7fafc;
    --card:#ffffff;
    --text:#0f172a;
    --muted:#475569;
    --ring:#7dd3fc;
    --brand:#06b6d4;
    --accent:#a855f7;
    --ok:#16a34a;
    --bar:#e2e8f0;
    --shadow:0 8px 22px rgba(2,8,23,.12);
    --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans";
    color:var(--text);
    background:
      radial-gradient(1200px 520px at 0% 0%, rgba(56,189,248,.25), transparent 60%),
      radial-gradient(1100px 520px at 100% 10%, rgba(168,85,247,.20), transparent 60%),
      var(--bg);
  }
  .watermark{
    position:fixed; inset:0; z-index:0; pointer-events:none; display:grid; place-items:center;
  }
  .watermark::before{
    content:""; width:min(78vmin,700px); aspect-ratio:1/1;
    background:url('./crest.png') center/contain no-repeat;
    opacity:.20;
    filter:grayscale(100%) contrast(120%) brightness(0.95);
    mix-blend-mode:multiply;
  }

  header{position:sticky; top:0; z-index:2; backdrop-filter:blur(10px);
    background:rgba(255,255,255,.65); border-bottom:1px solid #e2e8f0}
  .wrap{max-width:1100px; margin:0 auto; padding:14px 18px}
  .brand{display:flex; align-items:center; gap:12px}
  .logo{width:40px; height:40px; border-radius:12px;
    background:linear-gradient(135deg,#22d3ee,#a78bfa); box-shadow:var(--shadow)}
  h1{margin:0; font-size:clamp(20px,3vw,28px)}
  .sub{color:var(--muted); font-size:14px}

  .controls{display:grid; grid-template-columns:1fr; gap:8px; margin-top:10px}
  @media(min-width:720px){.controls{grid-template-columns:1fr auto; align-items:center}}

  .search{position:relative}
  .search input{
    width:100%; padding:12px 42px; border-radius:999px; outline:none;
    background:#ffffff; border:1.5px solid #cbd5e1; color:var(--text);
    box-shadow:0 4px 14px rgba(2,8,23,.06);
  }
  .search input:focus{border-color:var(--ring); box-shadow:0 0 0 5px rgba(125,211,252,.35)}
  .search svg{position:absolute; left:14px; top:50%; transform:translateY(-50%); opacity:.6}

  main{position:relative; z-index:1; padding:22px 18px 48px}
  .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(230px,1fr)); gap:16px}

  .card{
    background:var(--card);
    border:1px solid #e2e8f0; border-radius:var(--radius); overflow:hidden;
    box-shadow:var(--shadow); display:flex; flex-direction:column; transition:transform .16s, box-shadow .16s, border-color .16s;
  }
  .card:hover{transform:translateY(-3px); box-shadow:0 14px 30px rgba(2,8,23,.16); border-color:#cbd5e1}
  .thumb{height:115px; display:grid; place-items:center; background:#eef2ff; border-bottom:1px solid #e2e8f0}
  .body{padding:12px; display:flex; flex-direction:column; gap:9px}
  .title{font-weight:800; font-size:17px; margin:0}
  .desc{color:#334155; font-size:13.5px; line-height:1.35; min-height:38px}
  .badges{display:flex; gap:6px; flex-wrap:wrap}
  .badge{font-size:12px; padding:4px 8px; border-radius:999px; color:#0b1020;
         background:linear-gradient(135deg,#22d3ee33,#a78bfa33); border:1px solid #c7d2fe}
  .footer{display:flex; align-items:center; gap:8px}
  .btn{flex:1; text-align:center; padding:9px 10px; border-radius:12px; color:white; text-decoration:none; font-weight:700;
       border:1px solid #dbeafe}
  .btn.play{background:linear-gradient(135deg,#22c55e,#16a34a)}
  .btn.play:hover{filter:brightness(1.05)}
  .progress{height:9px; background:var(--bar); border-radius:999px; overflow:hidden; border:1px solid #cbd5e1}
  .progress > span{display:block; height:100%; width:0%; background:linear-gradient(90deg,#06b6d4,#a855f7); transition:width .35s ease}
  .progress-label{font-size:12px; color:#334155}

  footer{position:relative; z-index:1; border-top:1px solid #e2e8f0; padding:18px; text-align:center; color:#475569}
  .tiny{font-size:12px}
</style>
</head>
<body>
  <div class="watermark" aria-hidden="true"></div>

  <header>
    <div class="wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Turbo Leaving Cert Spanish — Synge Street</h1>
          <div class="sub">All games in one place. Progress saves locally.</div>
        </div>
      </div>

      <div class="controls">
        <label class="search" aria-label="Search games">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.3-4.3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="2"/></svg>
          <input id="q" type="search" placeholder="Search by title, level, or tag…" />
        </label>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="grid" class="grid" role="list"></div>
    <div id="empty" class="desc" hidden>No games match your filters yet.</div>
  </main>

  <footer>
    <div class="wrap">
      <div class="tiny">© <span id="year"></span> Synge Street CBS</div>
    </div>
  </footer>

<script>
/* ---------- SVG ICONS ---------- */
const svgs = {
  g1:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g1a" x1="0" x2="1"><stop stop-color="#06b6d4"/><stop offset="1" stop-color="#a855f7"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g1a)"/><g fill="white" opacity=".96"><rect x="350" y="160" width="500" height="280" rx="22"/></g></svg>`,
  g2:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g2a" x1="0" x2="1"><stop stop-color="#22c55e"/><stop offset="1" stop-color="#0ea5e9"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g2a)"/></svg>`,
  g3:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g3a" x1="0" x2="1"><stop stop-color="#f59e0b"/><stop offset="1" stop-color="#ef4444"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g3a)"/></svg>`,
  g4:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g4a" x1="0" x2="1"><stop stop-color="#90cdf4"/><stop offset="1" stop-color="#8b5cf6"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g4a)"/></svg>`,
  g5:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g5a" x1="0" x2="1"><stop stop-color="#0ea5e9"/><stop offset="1" stop-color="#1582d4"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g5a)"/></svg>`,
  g6:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g6a" x1="0" x2="1"><stop stop-color="#22d3ee"/><stop offset="1" stop-color="#06b6d4"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g6a)"/></svg>`,
  g7:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g7a" x1="0" x2="1"><stop stop-color="#22c55e"/><stop offset="1" stop-color="#84cc16"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g7a)"/></svg>`,
  g8:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g8a" x1="0" x2="1"><stop stop-color="#f59e0b"/><stop offset="1" stop-color="#f97316"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g8a)"/></svg>`,
  g9:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g9a" x1="0" x2="1"><stop stop-color="#6366f1"/><stop offset="1" stop-color="#22d3ee"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g9a)"/></svg>`,
  g10:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><defs><linearGradient id="g10a" x1="0" x2="1"><stop stop-color="#a855f7"/><stop offset="1" stop-color="#ec4899"/></linearGradient></defs><rect width="100%" height="100%" rx="24" fill="url(#g10a)"/></svg>`
};

/* ---------- GAME LIST ---------- */
const games = [
  {title:"Game 1 — Describing Yourself & Routine",svg:svgs.g1,href:"https://seanmc114.github.io/Self-Peers-Present/",desc:"Short → medium sentences. Present tense.",tags:["A2–B1","Present","EN→ES"],bestLevelKey:"game1_bestLevel",totalLevels:10},
  {title:"Game 2 — Family & Friendship",svg:svgs.g2,href:"https://seanmc114.github.io/Family-Friends-Adjectives/",desc:"Adjective agreement. Positive, negative & questions.",tags:["A2–B1","Agreement","EN→ES"],bestLevelKey:"game2_bestLevel",totalLevels:10},
  {title:"Game 3 — School & Exam Stress",svg:svgs.g3,href:"https://seanmc114.github.io/School-Exams-Rad-Verbs/",desc:"Radical-changing verbs. Exam habits.",tags:["B1","Present","EN→ES"],bestLevelKey:"game3_bestLevel",totalLevels:10},
  {title:"Game 4 — Hobbies & Free Time",svg:svgs.g4,href:"https://seanmc114.github.io/Hobbies-Free-Time-Reflex/",desc:"Reflexive verbs. Simple → richer Spanish.",tags:["A2–B1","Reflexives","EN→ES"],bestLevelKey:"game4_bestLevel",totalLevels:10},
  {title:"Game 5 — Technology & Socials",svg:svgs.g5,href:"https://seanmc114.github.io/LC-Tech-Socials-Pres-Contin./",desc:"Present continuous. Online safety.",tags:["B1","Continuous","EN→ES"],bestLevelKey:"game5_bestLevel",totalLevels:10},
  {title:"Game 6 — Travel & Holidays",svg:svgs.g6,href:"https://seanmc114.github.io/Travel-Holidays-Preterite/",desc:"Preterite. Trips, transport, accommodation.",tags:["B1","Preterite","EN→ES"],bestLevelKey:"game6_bestLevel",totalLevels:10},
  {title:"Game 7 — Environment & Future",svg:svgs.g7,href:"https://seanmc114.github.io/Environment-Future/",desc:"Future, Environment, Challenges.",tags:["B1","Future","EN→ES"],bestLevelKey:"game7_bestLevel",totalLevels:10},
  {title:"Game 8 — Holidays, Travel, Past",svg:svgs.g8,href:"https://seanmc114.github.io/LC-Travel-Holidays-Past/",desc:"Travel, Holidays, Past Tense",tags:["A2–B1","Past","EN→ES"],bestLevelKey:"game8_bestLevel",totalLevels:10},
  {title:"Game 9 — Future Plans",svg:svgs.g9,href:"https://seanmc114.github.io/LC-Future-Plans/",desc:"Future & Conditional. Jobs, ambitions.",tags:["B1–B2","Future/Cond.","EN→ES"],bestLevelKey:"game9_bestLevel",totalLevels:10},
  {title:"TURBO",svg:svgs.g10,href:"https://seanmc114.github.io/Turbo/",desc:"Lovely Verbs",tags:["Verbs","All tenses","EN→ES"],bestLevelKey:"game10_bestLevel",totalLevels:10}
];

const grid=document.getElementById("grid");
const empty=document.getElementById("empty");
const q=document.getElementById("q");
document.getElementById("year").textContent=new Date().getFullYear();

function matchesSearch(g){
  const s=(q.value||"").toLowerCase().trim();
  if(!s)return true;
  const hay=[g.title,g.desc,...(g.tags||[])].join(" ").toLowerCase();
  return hay.includes(s);
}
function pctFromBestLevel(game){
  const best=parseInt(localStorage.getItem(game.bestLevelKey||""),10);
  if(Number.isFinite(best)&&game.totalLevels)return Math.max(0,Math.min(100,Math.round(best/game.totalLevels*100)));
  return 0;
}
function getProgress(game){
  if(game.progressKey){
    const p=parseInt(localStorage.getItem(game.progressKey),10);
    if(Number.isFinite(p))return Math.max(0,Math.min(100,p));
  }
  if(game.bestLevelKey)return pctFromBestLevel(game);
  return 0;
}
function card(g){
  const progress=getProgress(g);
  return `
  <article class="card" role="listitem">
    <div class="thumb">${g.svg}</div>
    <div class="body">
      <h3 class="title">${g.title}</h3>
      <div class="badges">${(g.tags||[]).map(t=>`<span class="badge">${t}</span>`).join(" ")}</div>
      <p class="desc">${g.desc
